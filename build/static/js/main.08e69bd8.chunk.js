(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={gallery:"ImageGallery_gallery__gboaM"}},11:function(e,t,a){e.exports={overlay:"Modal_overlay__2GjdW",modal:"Modal_modal__P3_V5"}},14:function(e,t,a){e.exports={gallery__item:"ImageGalleryItem_gallery__item__2Ejrd",galleryItemImage:"ImageGalleryItem_galleryItemImage__3lhrt"}},15:function(e,t,a){e.exports={button:"Buton_button__1RuTa"}},20:function(e,t,a){},21:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var o=a(0),r=a.n(o),c=a(4),n=a.n(c),s=(a(20),a(12)),l=a(3),i=(a(21),a(7)),u=(a(22),a(23),a(13)),m=a.n(u),b=a(5),g=a.n(b),j=a(1);function h(e){var t=e.onSubmit,a=Object(o.useState)(""),r=Object(l.a)(a,2),c=r[0],n=r[1];return Object(j.jsx)("header",{className:g.a.searchbar,children:Object(j.jsxs)("form",{className:g.a.searchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),n("")):Object(i.b)("Enter your  query")},children:[Object(j.jsx)("button",{type:"submit",className:g.a.searchForm__button,children:Object(j.jsx)("span",{className:g.a.searchForm__buttonLabel,children:"Search"})}),Object(j.jsx)("input",{className:g.a.searchForm__input,type:"text",onChange:function(e){console.log(e.target.value),n(e.target.value)},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c})]})})}var _=a(14),d=a.n(_);function f(e){var t=e.webformatURL,a=e.onModal,o=e.largeImageURL,r=e.tags;return Object(j.jsx)("img",{className:d.a.galleryItemImage,onClick:function(){return a(o)},src:t,alt:r})}var O=a(10),p=a.n(O);function x(e){var t=e.images,a=e.onImgClick;return Object(j.jsx)("ul",{className:p.a.gallery,children:t.map((function(e){var t=e.id,o=e.webformatURL,r=e.largeImageURL,c=e.tags;return Object(j.jsx)("li",{className:p.a.gallery__item,children:Object(j.jsx)(f,{webformatURL:o,onModal:a,tags:c,largeImageURL:r})},t)}))})}var v=a(15),y=a.n(v);function I(e){var t=e.onClick;return Object(j.jsx)("button",{type:"button",onClick:t,className:y.a.button,children:"Load more"})}var S=a(11),w=a.n(S),F=document.querySelector("#modal-root");function L(e){var t=e.largeImageURL,a=e.onClose;Object(o.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}),[]);var r=function(e){console.log(e.code),"Escape"===e.code&&a()};return Object(c.createPortal)(Object(j.jsx)("div",{className:w.a.overlay,onClick:function(e){console.log(e.target),console.log(e.currentTarget),e.target===e.currentTarget&&a()},children:Object(j.jsx)("div",{className:w.a.modal,children:Object(j.jsx)("img",{src:t,alt:""})})}),F)}var k={fetchImages:function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=23459903-45cdb2e5cfc763a2eaddc7311&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error("Image ".concat(e," not found")))}))}};function N(){var e=Object(o.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(o.useState)(""),n=Object(l.a)(c,2),u=n[0],b=n[1],g=Object(o.useState)(!1),_=Object(l.a)(g,2),d=_[0],f=_[1],O=Object(o.useState)(1),p=Object(l.a)(O,2),v=p[0],y=p[1],S=Object(o.useState)([]),w=Object(l.a)(S,2),F=w[0],N=w[1],R=Object(o.useState)(null),U=Object(l.a)(R,2),C=(U[0],U[1]),E=Object(o.useState)(!1),M=Object(l.a)(E,2),q=M[0],T=M[1],G=function(e){console.log("click  on list",e),f(!d),b(e)};Object(o.useEffect)((function(){""!==a&&(console.log(a),console.log("\u0437\u0430\u043f\u0440\u043e\u0441 \u0456\u0437\u043c\u0435\u043d\u0456\u043b\u0441\u044f"),P())}),[a]);var P=function(){var e=k.fetchImages;a&&(T(!0),e(a,v).then((function(e){console.log(e),0!==e.hits.length?(N([].concat(Object(s.a)(F),Object(s.a)(function(e){return e.map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,tags:e.tags}}))}(e.hits)))),y(v+1),T(!1),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})):Object(i.b)("No  images  found")})).catch((function(e){return C(e)})))};return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(i.a,{}),Object(j.jsx)(h,{onSubmit:function(e){r(e),console.log(e)}}),q&&Object(j.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:"99"},children:Object(j.jsx)(m.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})}),F.length>0&&Object(j.jsx)(x,{images:F,query:a,onImgClick:G}),d&&Object(j.jsx)(L,{largeImageURL:u,onClose:G}),F.length>11&&!q&&Object(j.jsx)(I,{onClick:P})]})}n.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(N,{})}),document.getElementById("root"))},5:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__3O3yq",searchForm:"Searchbar_searchForm__1TIz5",searchForm__button:"Searchbar_searchForm__button__2MSMV",searchFor__button:"Searchbar_searchFor__button__1rQRp",searchForm__buttonLabel:"Searchbar_searchForm__buttonLabel__32T_J",searchForm__input:"Searchbar_searchForm__input__2NNNq"}}},[[45,1,2]]]);
//# sourceMappingURL=main.08e69bd8.chunk.js.map